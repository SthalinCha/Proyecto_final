<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Procesamiento de ImÃ¡genes</title>
    <!-- CSS Modular -->
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="assets/css/components.css" />
    <link rel="stylesheet" href="assets/css/gallery.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Procesamiento de ImÃ¡genes</h1>
        <p>Sube una o varias imÃ¡genes y compara original vs procesada.</p>
      </header>

      <section class="upload-card">
        <div id="drop-zone" class="drop-zone">
          <p>Arrastra y suelta imÃ¡genes aquÃ­ o selecciona archivos</p>
          <input id="file-input" type="file" accept="image/png,image/jpeg" multiple />
        </div>
        <div class="mode-selector">
          <label>
            <input type="radio" name="mode" value="gallery" checked />
            Ver galerÃ­a
          </label>
          <label>
            <input type="radio" name="mode" value="moments" />
            Momentos (24)
          </label>
          <label>
            <input type="radio" name="mode" value="hu" />
            Momentos de Hu
          </label>
          <label>
            <input type="radio" name="mode" value="zernike" />
            Momentos de Zernike
          </label>
          <label>
            <input type="radio" name="mode" value="sift" />
            SIFT (solo procesada)
          </label>
          <label>
            <input type="radio" name="mode" value="hog" />
            HOG (solo procesada)
          </label>
          <label>
            <input type="radio" name="mode" value="cnn" />
            CNN/ResNet50
          </label>
        </div>
        <div class="mode-config" id="moments-config">
          <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 6px; padding: 10px; margin-bottom: 12px;">
            <strong>âš ï¸ Importante:</strong>
            <ul style="margin: 5px 0; padding-left: 20px; font-size: 13px;">
              <li>Primero ingresa capacities (ej: 5,5)</li>
              <li>Haz clic en <strong>"Subir"</strong> para cargar las primeras imÃ¡genes</li>
              <li>Luego usa <strong>"Actualizar restricciones"</strong> para cambiar capacities</li>
              <li>Finalmente usa <strong>"Agregar imÃ¡genes"</strong> para agregar mÃ¡s</li>
            </ul>
          </div>
          <label for="moments-clusters-input">NÃºmero de clusters</label>
          <input id="moments-clusters-input" type="number" min="1" placeholder="3" />
          <label for="moments-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="moments-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-moments" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-moments" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-moments" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-moments" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-moments"></div>
          </div>
        </div>
        <div class="mode-config" id="hu-config">
          <label for="hu-clusters-input">NÃºmero de clusters</label>
          <input id="hu-clusters-input" type="number" min="1" placeholder="3" />
          <label for="hu-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="hu-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-hu" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-hu" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-hu" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-hu" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-hu"></div>
          </div>
        </div>
        <div class="mode-config" id="zernike-config">
          <label for="zernike-clusters-input">NÃºmero de clusters</label>
          <input id="zernike-clusters-input" type="number" min="1" placeholder="3" />
          <label for="zernike-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="zernike-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-zernike" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-zernike" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-zernike" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-zernike" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-zernike"></div>
          </div>
        </div>
        <div class="mode-config" id="sift-config">
          <label for="sift-clusters-input">NÃºmero de clusters</label>
          <input id="sift-clusters-input" type="number" min="1" placeholder="3" />
          <label for="sift-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="sift-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-sift" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-sift" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-sift" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-sift" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-sift"></div>
          </div>
        </div>
        <div class="mode-config" id="hog-config">
          <label for="hog-clusters-input">NÃºmero de clusters</label>
          <input id="hog-clusters-input" type="number" min="1" placeholder="3" />
          <label for="hog-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="hog-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-hog" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-hog" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-hog" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-hog" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-hog"></div>
          </div>
        </div>
        <div class="mode-config" id="cnn-config">
          <div style="background: #e8f5e8; border: 1px solid #4caf50; border-radius: 6px; padding: 10px; margin-bottom: 12px;">
            <strong>ğŸ¤– CNN/ResNet50:</strong>
            <ul style="margin: 5px 0; padding-left: 20px; font-size: 13px;">
              <li>Extrae caracterÃ­sticas usando ResNet50 pre-entrenada</li>
              <li>Vector de 2048 dimensiones por imagen</li>
              <li>Ideal para imÃ¡genes complejas y reconocimiento de objetos</li>
              <li>Funciona igual que otros mÃ©todos: capacidades â†’ subir â†’ agregar</li>
            </ul>
          </div>
          <label for="cnn-clusters-input">NÃºmero de clusters</label>
          <input id="cnn-clusters-input" type="number" min="1" placeholder="3" />
          <label for="cnn-capacities-input">Capacidades (ej: 10,20,5)</label>
          <input id="cnn-capacities-input" type="text" placeholder="10,20,5" />
          <div class="momentos-actions">
            <button id="add-images-btn-cnn" class="secondary">â• Agregar imÃ¡genes al clustering</button>
            <button id="update-capacities-btn-cnn" class="secondary">âš™ï¸ Actualizar restricciones</button>
            <button id="status-btn-cnn" class="secondary">ğŸ“Š Ver estado de clusters</button>
          </div>
          <div id="cluster-status-display-cnn" style="display:none; margin-top: 12px; padding: 10px; background: #e8f4f8; border: 1px solid #0288d1; border-radius: 6px; font-size: 12px;">
            <strong>ğŸ“Š Estado del Clustering:</strong>
            <div id="cluster-status-content-cnn"></div>
          </div>
        </div>
        <div class="actions">
          <button id="upload-btn">Subir</button>
          <button id="clear-btn" class="secondary">Borrar todo</button>
          <span id="status" class="status">Listo</span>
        </div>
      </section>

      <section>
        <h2>GalerÃ­a</h2>
        <div id="gallery" class="gallery"></div>
      </section>

      <section id="results-section" style="display: none;">
        <h2>Resultados - Momentos</h2>
        <div id="results" class="results"></div>
      </section>
    </div>

    <!-- JavaScript Modular -->
    <script type="module" src="assets/js/main.js"></script>
  </body>
</html>
